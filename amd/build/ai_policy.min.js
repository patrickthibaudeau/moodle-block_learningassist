define("block_learningassist/ai_policy",["exports","core/modal_save_cancel","core/modal_events","core/str","core/ajax"],(function(_exports,_modal_save_cancel,_modal_events,_str,_ajax){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_modal_save_cancel=_interopRequireDefault(_modal_save_cancel),_modal_events=_interopRequireDefault(_modal_events),_ajax=_interopRequireDefault(_ajax);_exports.init=async()=>{if("0"===document.getElementById("ai-policy-status").value){(await _modal_save_cancel.default.create({title:(0,_str.get_string)("aipolicyacceptance","ai"),body:(0,_str.get_string)("userpolicy","ai"),large:!0,buttons:{save:(0,_str.get_string)("acceptai","ai"),cancel:(0,_str.get_string)("declineaipolicy","ai")},show:!0})).getRoot().on(_modal_events.default.save,(()=>{const contextId=M.cfg.contextid;_ajax.default.call([{methodname:"core_ai_set_policy_status",args:{contextid:contextId}}])[0].done((()=>{window.location.reload()})).fail((error=>{alert("Error setting policy status:",error)}))}))}}}));

//# sourceMappingURL=ai_policy.min.js.map